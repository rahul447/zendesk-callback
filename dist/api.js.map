{"version":3,"sources":["../lib/api.es6"],"names":["NODE_ENV","process","env","nodeEnv","config","Object","freeze","require","app","urlPrefix","environmentVariables","use","set","http","port","domain","json","listen","get","console","log"],"mappings":"AAAA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;AAEI,IAACA,QAAD,GAAaC,QAAQC,GAArB,CAACF,QAAD;AAAA,IACFG,OADE,GACQH,YAAY,OADpB;AAAA,IAEFI,MAFE,GAEOC,OAAOC,MAAP,CAAcC,QAAQ,eAAeJ,OAAvB,CAAd,CAFP;AAAA,IAGFK,GAHE,GAGI,wBAHJ;AAAA,IAIFC,SAJE,GAIUL,OAAOK,SAJjB;AAAA,IAKFC,oBALE,GAKqBH,QAAQ,gCAAR,CALrB;;AAOJ;AACAC,IAAIG,GAAJ;AACAH,IAAII,GAAJ,CAAQ,MAAR,EAAgBR,OAAOS,IAAP,CAAYC,IAA5B;AACAN,IAAII,GAAJ,CAAQ,QAAR,EAAkBR,OAAOS,IAAP,CAAYE,MAA9B;AACAP,IAAIG,GAAJ;AACAH,IAAIG,GAAJ,CAAQ,qBAAWK,IAAX,EAAR;;AAEAR,IAAIG,GAAJ,MAAWF,SAAX;AACA;AACA;;AAEA;AACAD,IAAIS,MAAJ,CAAWT,IAAIU,GAAJ,CAAQ,MAAR,CAAX,EAA4BV,IAAIU,GAAJ,CAAQ,QAAR,CAA5B,EAA+C,YAAY;AACzDC,UAAQC,GAAR,CAAY,kDAAkDZ,IAAIU,GAAJ,CAAQ,MAAR,CAAlD,GAAoE,YAApE,GAAmFV,IAAIU,GAAJ,CAAQ,QAAR,CAA/F;AACD,CAFD","file":"api.js","sourcesContent":["\"use strict\";\n\nimport express from \"express\";\nimport bodyParser from \"body-parser\";\nimport methodOverride from \"method-override\";\nimport mwAllowCrossDomain from \"./middleware_services/mwAllowCrossDomain\";\nimport {router} from \"./endpoints/index\";\nimport domain from \"express-domain-middleware\";\nimport expressJwt from \"express-jwt\";\n\nlet {NODE_ENV} = process.env,\n  nodeEnv = NODE_ENV || \"local\",\n  config = Object.freeze(require(\"../config/\" + nodeEnv)),\n  app = express(),\n  urlPrefix = config.urlPrefix,\n  environmentVariables = require(\"../config/environmentVariables\");\n\n// Sets the relevant config app-wise\napp.use(domain);\napp.set(\"port\", config.http.port);\napp.set(\"domain\", config.http.domain);\napp.use(mwAllowCrossDomain);\napp.use(bodyParser.json());\n\napp.use(`${urlPrefix}`, router);\n//app.use(methodOverride);\n//app.use(mwErrorHandler);\n\n// Starts the app\napp.listen(app.get(\"port\"), app.get(\"domain\"), function () {\n  console.log(\"Server has started and is listening on port: \" + app.get(\"port\") + \" and ip : \" + app.get(\"domain\"));\n});\n"]}